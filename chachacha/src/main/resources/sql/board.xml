<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="Boards">

	<select id="getServiceListCount" resultType="int" parameterType="String">
		select count(*) from fboard where category = #{category}
	</select> 
	
	<select id="getServiceboardList" parameterType="Map" resultType="board">
		select * from( select rownum rnum, b.*
									 from(select * 
									      from fboard 
									      where category=#{category}) b
									      )  
									 where rnum &gt;=#{startrow} and rnum &lt;=#{endrow}
	</select>
	
	<insert id="insert" parameterType="board">
		<selectKey resultType="int" order="BEFORE"
					keyColumn="NUM"  keyProperty="NUM">
			select nvl(max(NUM),0)+1 from fboard
		</selectKey>
		insert into board
		(NUM,
		 NAME, category,ccategory,readcount,SUBJECT,
		 CONTENT, filename,file_original,
		 inputdate)
		 values(
		 #{NUM},#{NAME}, #{category},#{ccategory},#{readcount}, #{SUBJECT},
		 #{CONTENT}, #{filename, jdbcType=VARCHAR}, 
		#{file_original, jdbcType=VARCHAR},
		 sysdate)
	
	</insert>
	
</mapper>